<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Starte deine Deutschreise - Kursvorschau App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Noto+Sans:wght@400;700&display=swap');

        body {
            font-family: 'Noto Sans', 'Noto Sans TC', sans-serif;
            background-color: #fdfbf7;
            color: #1a1a1a;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Chart Container */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            height: 300px;
            max-height: 350px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 320px;
            }
        }

        /* Card Flip */
        .perspective-1000 {
            perspective: 1000px;
        }

        .transform-style-3d {
            transform-style: preserve-3d;
        }

        .backface-hidden {
            backface-visibility: hidden;
        }

        .rotate-y-180 {
            transform: rotateY(180deg);
        }

        /* Tab Active State */
        .tab-active {
            border-bottom: 3px solid #DD0000;
            color: #DD0000;
            font-weight: bold;
        }

        .germany-gradient {
            background: linear-gradient(to right, #000000 33%, #DD0000 33%, #DD0000 66%, #FFCE00 66%);
            height: 4px;
            width: 100%;
        }
    </style>
</head>

<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="germany-gradient"></div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <span class="text-2xl mr-2">ğŸ‡©ğŸ‡ª</span>
                    <h1 class="text-xl font-bold tracking-tight text-gray-900">Deutsch <span
                            class="text-red-600">Vorschau</span></h1>
                </div>
                <!-- Desktop Nav -->
                <nav class="hidden lg:flex space-x-4 xl:space-x-6" id="desktop-nav">
                    <!-- Nav items generated by JS -->
                </nav>
                <!-- Mobile Menu Button -->
                <div class="lg:hidden">
                    <button onclick="App.toggleMobileMenu()"
                        class="text-gray-500 hover:text-gray-900 focus:outline-none">
                        â˜° MenÃ¼
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Nav Panel -->
        <div id="mobile-menu" class="hidden lg:hidden bg-white border-t border-gray-100">
            <div class="px-2 pt-2 pb-3 space-y-1" id="mobile-nav-items">
                <!-- Mobile Nav items generated by JS -->
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="flex-grow max-w-6xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-8">

        <!-- ========================================== -->
        <!--  SECTION 1: START (Static Layout)          -->
        <!-- ========================================== -->
        <section id="tab-start" class="tab-content block animate-fade-in">
            <div class="bg-white rounded-xl shadow-lg overflow-hidden mb-8">
                <div class="p-8 md:p-12 text-center relative">
                    <div class="absolute top-0 left-0 w-full h-2 bg-yellow-400"></div>
                    <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">Willkommen!</h2>
                    <p class="text-xl text-gray-600 mb-8">Starte deine Deutschreise: In 60 Minuten von "Null" zum
                        Sprechen.</p>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-left mt-10">
                        <div class="bg-gray-50 p-6 rounded-lg border-l-4 border-black">
                            <h3 class="font-bold text-lg mb-2">ğŸ¯ Angst abbauen</h3>
                            <p class="text-gray-600 text-sm">Deutsch sieht schwer aus? Du kannst schon die HÃ¤lfte. Wir
                                brechen die Barrieren.</p>
                        </div>
                        <div class="bg-gray-50 p-6 rounded-lg border-l-4 border-red-600">
                            <h3 class="font-bold text-lg mb-2">ğŸ—£ï¸ Sprechen</h3>
                            <p class="text-gray-600 text-sm">Nicht nur hÃ¶ren, sondern reden. Am Ende der Stunde stellst
                                du dich selbstbewusst vor.</p>
                        </div>
                        <div class="bg-gray-50 p-6 rounded-lg border-l-4 border-yellow-500">
                            <h3 class="font-bold text-lg mb-2">ğŸ—ºï¸ MaÃŸgeschneidert</h3>
                            <p class="text-gray-600 text-sm">Egal ob Reisen, Studium oder Hobby, wir planen deinen
                                persÃ¶nlichen Lernweg.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex flex-col md:flex-row bg-white rounded-xl shadow-md overflow-hidden border border-gray-100">
                <div class="md:w-1/3 bg-gray-800 p-8 flex flex-col justify-center items-center text-white">
                    <!-- è«‹åœ¨æ­¤è™•æ›¿æ›æ‚¨çš„ç…§ç‰‡é€£çµ -->
                    <div class="w-32 h-32 rounded-full bg-gray-300 mb-4 overflow-hidden border-4 border-red-600">
                        <img src="Leon.jpg" alt="Leon" class="w-full h-full object-cover">
                    </div>
                    <h3 class="text-2xl font-bold">Leon</h3>
                    <p class="text-yellow-400 mt-1">Deutschlehrer</p>
                </div>
                <div class="md:w-2/3 p-8">
                    <h4 class="text-xl font-bold text-gray-900 mb-3">Ãœber mich (é—œæ–¼æˆ‘)</h4>
                    <p class="text-gray-600 mb-4 leading-relaxed">
                        ä½ å¥½ï¼æˆ‘æ˜¯ Leonï¼Œç›®å‰æ—…å±…å¾·åœ‹æ–¯åœ–åŠ ç‰¹ï¼Œæ˜¯ä¸€åæ“æœ‰å¤šé‡è·æ¥­èº«åˆ†çš„è‡ªç”±å·¥ä½œè€…ï¼ŒåŒæ™‚ä¹Ÿæ­£åœ¨å¾·åœ‹æ”»è®€æ©Ÿæ¢°å·¥ç¨‹ç¢©å£«ã€‚

                        éå»æˆ‘å®Œæ•´æ¥å—éæ­£è¦ä¸”ç³»çµ±åŒ–çš„å¾·èªèª²ç¨‹è¨“ç·´ï¼Œä¹Ÿå¯¦éš›æº–å‚™ä¸¦æ‡‰è€ƒé Goethe-Zertifikatã€TestDaF ä»¥åŠ
                        telcã€‚å› æ­¤ï¼Œç„¡è«–æ˜¯å¾·èªå­¸ç¿’é«”åˆ¶ã€è€ƒè©¦èƒŒå¾Œçš„é‚è¼¯ï¼Œé‚„æ˜¯ç¾å¯¦ç”Ÿæ´»ä¸­ã€Œæ€éº¼ç”¨å¾·æ–‡çœŸæ­£æºé€šèˆ‡ç”Ÿæ´»ã€ï¼Œæˆ‘éƒ½æœ‰ç›¸ç•¶è²¼è¿‘ç¬¬ä¸€ç·šçš„ç†è§£ã€‚

                        åœ¨æ•™å­¸ä¸Šï¼Œæˆ‘ä¸å¼·èª¿æ­»è¨˜ç¡¬èƒŒï¼Œè€Œæ˜¯é€éå¿ƒç†å»ºè¨­èˆ‡å¯¦ç”¨æƒ…å¢ƒï¼Œå¹«åŠ©å­¸ç¿’è€…å»ºç«‹ä¿¡å¿ƒã€ç†è§£èªè¨€èƒŒå¾Œçš„é‚è¼¯ã€‚å¾ˆå¤šæ™‚å€™ï¼Œå¡ä½çš„ä¸¦ä¸æ˜¯èƒ½åŠ›ï¼Œè€Œæ˜¯æ²’æœ‰äººå‘Šè¨´ä½ ï¼šã€ŒåŸä¾†å¯ä»¥é€™æ¨£æƒ³ã€é€™æ¨£èªªã€‚ã€æˆ‘å¸Œæœ›é™ªä½ ä¸€æ­¥æ­¥æŠŠå¾·æ–‡ï¼Œè®Šæˆä¸€å€‹ç”¨å¾—åˆ°ã€èªªå¾—å‡ºå£çš„å·¥å…·ï¼Œè€Œä¸åªæ˜¯å­˜åœ¨æ–¼èª²æœ¬æˆ–è€ƒè©¦è£¡çš„èªè¨€ã€‚

                        å¦‚æœä½ æ›¾ç¶“å› ç‚ºå¾·æ–‡æ„Ÿåˆ°æŒ«æŠ˜ã€ç„¦æ…®ï¼Œç”šè‡³æ‡·ç–‘éè‡ªå·±ï¼Œé‚£ä½ ä¸¦ä¸å­¤å–®ï¼›æˆ‘å¾ˆæ¨‚æ„ç”¨è‡ªå·±å¤šå¹´å­¸ç¿’å¾·æ–‡ã€ä»¥åŠæ­£åœ¨å¾·åœ‹æ±‚å­¸èˆ‡ç”Ÿæ´»çš„ç¬¬ä¸€æ‰‹ç¶“é©—ï¼Œé™ªä½ èµ°å¾—æ›´ç©©ã€æ›´å®‰å¿ƒï¼Œç›´åˆ°ä½ çœŸæ­£æ„›ä¸Šé€™é–€èªè¨€ã€‚
                    </p>
                    <div class="flex flex-wrap gap-2">
                        <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">âœˆï¸ Lebt in
                            Stuttgart</span>
                        <span class="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm">â˜• Kaffeeliebhaber</span>
                    </div>
                </div>
            </div>
            <div class="mt-8 text-center">
                <button onclick="App.switchTab('tab-kultur')"
                    class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition transform hover:scale-105">Starten
                    (é–‹å§‹æ¢ç´¢) â†’</button>
            </div>
        </section>

        <!-- ========================================== -->
        <!--  SECTION 2: KULTUR (Static Layout)         -->
        <!-- ========================================== -->
        <section id="tab-kultur" class="tab-content hidden animate-fade-in">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Kultur & Fakten (å¾·åœ‹æ–‡åŒ–èˆ‡è¶£äº‹)</h2>
                <p class="text-gray-600">Entdecke die deutsche Kultur! (æ¢ç´¢å¾·åœ‹æ–‡åŒ–ï¼)</p>
            </div>
            <div class="space-y-8">
                <div class="bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden">
                    <div class="bg-black text-white p-4">
                        <h3 class="font-bold text-lg text-yellow-400">Die deutschsprachige Welt (å¾·èªä¸–ç•Œ)</h3>
                    </div>
                    <div class="p-6 md:p-8 grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <div class="text-center md:text-left space-y-4">
                            <div class="text-5xl md:text-6xl mb-4">ğŸ‡©ğŸ‡ª ğŸ‡¦ğŸ‡¹ ğŸ‡¨ğŸ‡­ ğŸ‡±ğŸ‡® ğŸ‡±ğŸ‡º</div>
                            <p class="text-gray-700 leading-relaxed">
                                å¾·èªæ˜¯ <strong>DACH åœ°å€</strong> (Deutschland å¾·åœ‹ã€Ã–sterreich å¥§åœ°åˆ©ã€Schweiz ç‘å£«)
                                çš„ä¸»è¦èªè¨€ã€‚æ­¤å¤–ï¼Œåˆ—æ”¯æ•¦å£«ç™»ã€ç›§æ£®å ¡èˆ‡æ¯”åˆ©æ™‚éƒ¨åˆ†åœ°å€ä¹Ÿä½¿ç”¨å¾·èªã€‚
                            </p>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-gray-50 p-4 rounded-lg text-center border border-gray-200">
                                <p class="text-3xl font-bold text-red-600 mb-1">130 Mio.</p>
                                <p class="text-xs text-gray-500">Muttersprachler & Lerner<br>(å…¨çƒä½¿ç”¨äººå£)</p>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg text-center border border-gray-200">
                                <p class="text-3xl font-bold text-yellow-600 mb-1">No. 1</p>
                                <p class="text-xs text-gray-500">in der EU<br>(æ­ç›Ÿæ¯èªäººæ•¸æœ€å¤š)</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <h3 class="font-bold text-xl text-gray-900 mb-4">Kulturelle Highlights (æ–‡åŒ–ç‰¹è‰²)</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                        <div
                            class="bg-white p-6 rounded-lg shadow-sm border-t-4 border-yellow-400 hover:shadow-md transition">
                            <div class="text-4xl mb-3">ğŸº ğŸ¥¨</div>
                            <h4 class="font-bold text-gray-800 mb-2">Brot & Bier (éºµåŒ…èˆ‡å•¤é…’)</h4>
                            <p class="text-sm text-gray-600">å¾·åœ‹æœ‰è¶…é 3000 ç¨®éºµåŒ… (Brotsorten)ï¼å•¤é…’ (Bier) æ›´è¢«ç¨±ç‚ºã€Œæ¶²é«”éºµåŒ…ã€ï¼Œæ˜¯æ–‡åŒ–æ ¸å¿ƒã€‚</p>
                        </div>
                        <div
                            class="bg-white p-6 rounded-lg shadow-sm border-t-4 border-black hover:shadow-md transition">
                            <div class="text-4xl mb-3">ğŸš— âš™ï¸</div>
                            <h4 class="font-bold text-gray-800 mb-2">Technik (å·¥è—æŠ€è¡“)</h4>
                            <p class="text-sm text-gray-600">è³“å£«ã€BMWã€ä¿æ™‚æ·... "Made in Germany" (å¾·åœ‹è£½é€ ) ä»£è¡¨è‘—ä¸–ç•Œé ‚å°–çš„å“è³ª
                                (QualitÃ¤t)ã€‚</p>
                        </div>
                        <div
                            class="bg-white p-6 rounded-lg shadow-sm border-t-4 border-red-600 hover:shadow-md transition">
                            <div class="text-4xl mb-3">ğŸ° ğŸµ</div>
                            <h4 class="font-bold text-gray-800 mb-2">Kunst & Geschichte (è—è¡“èˆ‡æ­·å²)</h4>
                            <p class="text-sm text-gray-600">å¾æ–°å¤©éµå ¡åˆ°è²å¤šèŠ¬ï¼Œå¾·åœ‹æ˜¯ã€Œè©©äººèˆ‡æ€æƒ³å®¶çš„åœ‹åº¦ã€ (Das Land der Dichter und Denker)ã€‚
                            </p>
                        </div>
                    </div>
                </div>
                <div class="mt-8 text-center">
                    <button onclick="App.switchTab('tab-confidence')"
                        class="bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-3 px-8 rounded-full shadow transition">Weiter:
                        Zuversicht aufbauen (ä¸‹ä¸€æ­¥ï¼šå»ºç«‹ä¿¡å¿ƒ) â†’</button>
                </div>
            </div>
        </section>

        <!-- ========================================== -->
        <!--  SECTION 3: CONFIDENCE (Dynamic Content)   -->
        <!-- ========================================== -->
        <section id="tab-confidence" class="tab-content hidden animate-fade-in">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Zuversicht aufbauen (Confidence)</h2>
                <p class="text-gray-600">Du denkst, du bist AnfÃ¤nger? Daten zeigen das Gegenteil.</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100">
                    <h3 class="font-bold text-lg mb-4 text-center">Lexikalische Ã„hnlichkeit</h3>
                    <p class="text-sm text-gray-500 mb-4 text-center">Deutsch und Englisch teilen sich etwa 60% der
                        Wortwurzeln.</p>
                    <div class="chart-container">
                        <canvas id="similarityChart"></canvas>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100">
                    <h3 class="font-bold text-lg mb-4 text-center">Kognaten entdecken (Spiel)</h3>
                    <p class="text-sm text-gray-500 mb-6 text-center">Klicke auf die Karte, um sie umzudrehen. (é»æ“Šç¿»ç‰Œ)
                    </p>
                    <!-- CONTAINER FOR VOCAB CARDS -->
                    <div class="grid grid-cols-2 sm:grid-cols-3 gap-4" id="vocab-grid"></div>
                </div>
            </div>

            <div class="bg-white p-8 rounded-xl shadow-md border-l-4 border-yellow-500">
                <h3 class="text-xl font-bold mb-6">Das Alphabet & Die Zahlen (å­—æ¯èˆ‡æ•¸å­—)</h3>

                <!-- CONTAINER FOR SPECIAL LETTERS -->
                <div class="mb-8">
                    <div class="flex items-center mb-4">
                        <span class="text-2xl mr-2">ğŸ”¤</span>
                        <h4 class="font-bold text-lg text-gray-800">Besondere Buchstaben (ç‰¹æ®Šå­—æ¯)</h4>
                    </div>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3" id="special-letters-grid"></div>
                </div>

                <!-- CONTAINER FOR NUMBERS -->
                <div class="bg-gray-50 p-5 rounded-lg mb-8">
                    <div class="flex items-center mb-4">
                        <span class="text-2xl mr-2">ğŸ”¢</span>
                        <h4 class="font-bold text-lg text-gray-800">Zahlen 0-10 (æ•¸å­—)</h4>
                    </div>
                    <div class="grid grid-cols-3 sm:grid-cols-4 gap-2" id="numbers-grid"></div>
                </div>

                <!-- CONTAINER FOR FULL ALPHABET -->
                <div class="mb-4">
                    <div class="flex items-center mb-4">
                        <span class="text-2xl mr-2">ğŸ”¤</span>
                        <h4 class="font-bold text-lg text-gray-800">Das gesamte Alphabet (æ‰€æœ‰å­—æ¯)</h4>
                    </div>
                    <p class="text-sm text-gray-500 mb-4">ä¸Šæ–¹é»æ“Šå­—æ¯ï¼Œä¸‹æ–¹é»æ“Šå–®å­—ã€‚åˆ†é–‹ç·´ç¿’ï¼</p>
                    <div id="alphabet-grid" class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3">
                    </div>
                </div>
                <div id="audio-feedback" class="h-6 mt-4 text-center text-sm text-gray-400 italic font-medium"></div>
            </div>
        </section>

        <!-- ========================================== -->
        <!--  SECTION 4: CORE LESSON (Static + Logic)   -->
        <!-- ========================================== -->
        <section id="tab-core" class="tab-content hidden animate-fade-in">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Kernlektion (Core Lesson)</h2>
                <p class="text-gray-600">Ziel der ersten Stunde: Sich vorstellen. Merk dir die "Goldene Regel".</p>
            </div>
            <!-- Static Grammar Content here (Shortened for brevity as requested focus is modularity) -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-10">
                <div class="bg-yellow-100 p-6 rounded-lg text-center"><span class="text-3xl block mb-2">â˜€ï¸</span>
                    <h3 class="font-bold text-lg">Guten Tag</h3>
                    <p class="text-gray-600">Hallo (Formell)</p>
                </div>
                <div class="bg-red-100 p-6 rounded-lg text-center"><span class="text-3xl block mb-2">ğŸ‘‹</span>
                    <h3 class="font-bold text-lg">Hallo</h3>
                    <p class="text-gray-600">Hallo (Allgemein)</p>
                </div>
                <div class="bg-gray-200 p-6 rounded-lg text-center"><span class="text-3xl block mb-2">ğŸŒ™</span>
                    <h3 class="font-bold text-lg">TschÃ¼ss</h3>
                    <p class="text-gray-600">TschÃ¼ss (Locker)</p>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden mb-8">
                <div class="bg-gray-900 text-white p-4">
                    <h3 class="font-bold">Die Goldene Regel: Verb an Position 2</h3>
                </div>
                <div class="p-8">
                    <p class="mb-6 text-gray-600">Deutsche SÃ¤tze sind wie ZÃ¼ge. Das Verb sitzt immer im zweiten Waggon.
                        Egal, wer vorne sitzt.</p>
                    <div class="space-y-6">
                        <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                            <p class="text-sm text-gray-500 mb-2">Satz 1: Name</p>
                            <div class="flex flex-wrap items-center gap-2 text-lg md:text-xl font-medium">
                                <div class="px-4 py-2 bg-white border border-gray-300 rounded shadow-sm">Ich</div>
                                <div
                                    class="px-4 py-2 bg-red-100 border-2 border-red-500 text-red-700 rounded shadow-sm relative group cursor-help">
                                    heiÃŸe<span
                                        class="absolute -top-8 left-1/2 transform -translate-x-1/2 bg-black text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap">Verb
                                        (V)</span></div>
                                <div
                                    class="px-4 py-2 bg-white border-b-2 border-gray-300 min-w-[100px] text-gray-400 text-center italic">
                                    [Name]</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Quiz logic handled by App module -->
            <div class="mt-8 p-6 bg-blue-50 rounded-xl border border-blue-100">
                <h3 class="font-bold text-blue-900 mb-2">ğŸ’¡ Kurzquiz</h3>
                <p class="mb-4 text-blue-800">Versuche diesen Satz zu bilden: "Ich komme aus Deutschland"</p>
                <div id="quiz-container" class="space-y-3">
                    <div class="flex gap-2 flex-wrap">
                        <button onclick="App.checkQuiz(this, false)"
                            class="quiz-btn px-4 py-2 bg-white border hover:bg-gray-50 rounded shadow-sm">Deutschland</button>
                        <button onclick="App.checkQuiz(this, true)"
                            class="quiz-btn px-4 py-2 bg-white border hover:bg-gray-50 rounded shadow-sm">Ich</button>
                        <button onclick="App.checkQuiz(this, false)"
                            class="quiz-btn px-4 py-2 bg-white border hover:bg-gray-50 rounded shadow-sm">aus</button>
                        <button onclick="App.checkQuiz(this, false)"
                            class="quiz-btn px-4 py-2 bg-white border hover:bg-gray-50 rounded shadow-sm">komme</button>
                    </div>
                    <div id="quiz-feedback" class="text-sm font-bold h-6"></div>
                </div>
            </div>
        </section>

        <!-- ========================================== -->
        <!--  SECTION 5: ROADMAP (Static Layout)        -->
        <!-- ========================================== -->
        <section id="tab-roadmap" class="tab-content hidden animate-fade-in">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Dein Weg (Roadmap)</h2>
                <p class="text-gray-600">Ab heute erreichen wir Schritt fÃ¼r Schritt deine Deutschziele.</p>
            </div>
            <div class="flex flex-col lg:flex-row gap-8">
                <div class="lg:w-2/3 bg-white p-8 rounded-xl shadow-md border border-gray-100">
                    <h3 class="font-bold text-xl mb-6">Plan fÃ¼r die nÃ¤chsten 3 Monate</h3>
                    <div class="relative border-l-4 border-gray-200 ml-4 space-y-10">
                        <div class="relative pl-8">
                            <div
                                class="absolute -left-3.5 top-1 w-6 h-6 bg-green-500 rounded-full border-4 border-white shadow">
                            </div>
                            <h4 class="font-bold text-lg text-green-600">Heute (Lektion 1)</h4>
                            <p class="text-gray-700">âœ… Angst Ã¼berwunden<br>âœ… Aussprache Regeln<br>âœ… Selbstvorstellung
                            </p>
                        </div>
                        <div class="relative pl-8">
                            <div
                                class="absolute -left-3.5 top-1 w-6 h-6 bg-yellow-400 rounded-full border-4 border-white shadow">
                            </div>
                            <h4 class="font-bold text-lg text-gray-900">10 Stunden (Survival)</h4>
                            <p class="text-gray-700">ğŸ›’ Einkaufen im Supermarkt<br>ğŸ½ï¸ Im Restaurant bestellen<br>ğŸ”¢
                                Zahlen & Preise</p>
                        </div>
                        <div class="relative pl-8">
                            <div
                                class="absolute -left-3.5 top-1 w-6 h-6 bg-red-600 rounded-full border-4 border-white shadow">
                            </div>
                            <h4 class="font-bold text-lg text-gray-900">30 Stunden (Basis A1)</h4>
                            <p class="text-gray-700">ğŸš„ Zugtickets kaufen<br>ğŸ¨ Hotelbuchung<br>ğŸ—£ï¸ Smalltalk</p>
                        </div>
                    </div>
                </div>
                <div class="lg:w-1/3">
                    <div class="bg-gray-900 text-white rounded-xl shadow-lg p-6 sticky top-24">
                        <div class="border-b border-gray-700 pb-4 mb-4">
                            <h3 class="text-xl font-bold text-yellow-400 mb-1">Kursinformationen</h3>
                            <p class="text-gray-400 text-sm">Die Kurszeit</p>
                        </div>
                        <div class="space-y-4">
                            <div>
                                <p class="text-gray-400 text-xs uppercase tracking-wider">Datum</p>
                                <p class="text-lg font-medium">Jeden Mittwoch & Freitag</p>
                            </div>
                            <div>
                                <p class="text-gray-400 text-xs uppercase tracking-wider">Uhrzeit</p>
                                <p class="text-lg font-medium">19:00 - 20:00 (DE)</p>
                                <p class="text-xs text-gray-500 mt-1">*Deutsche Zeit</p>
                            </div>
                            <div>
                                <p class="text-gray-400 text-xs uppercase tracking-wider">Link</p><a
                                    href="https://meet.google.com/fgx-cnri-evu" target="_blank"
                                    class="text-red-400 hover:text-red-300 underline text-sm break-all">https://meet.google.com/fgx-cnri-evu</a>
                            </div>
                        </div>
                        <div class="mt-6">
                            <a href="mailto:leon@example.com"
                                class="block w-full text-center bg-yellow-500 hover:bg-yellow-600 text-black font-bold py-2 rounded transition">Leon
                                kontaktieren (Line)</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ========================================== -->
        <!--  SECTION 6: MATERIAL (Dynamic Script)      -->
        <!-- ========================================== -->
        <section id="tab-material" class="tab-content hidden animate-fade-in">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Lehrbuch & Hausaufgaben (æ•™æèˆ‡ä½œæ¥­)</h2>
                <p class="text-gray-600">Bereite dich auf deinen nÃ¤chsten Schritt vor.</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                <!-- Textbook -->
                <div class="bg-white p-8 rounded-xl shadow-md border border-gray-100 flex flex-col">
                    <h3 class="font-bold text-xl mb-6 text-gray-900">æœªä¾†ä¸»æ•™æ: Menschen A1</h3>
                    <div class="flex-grow flex flex-col md:flex-row gap-6 items-center md:items-start">
                        <img src="https://m.media-amazon.com/images/I/71Ab2Slg74L._AC_UF894,1000_QL80_.jpg"
                            alt="Menschen A1 Textbook"
                            class="w-40 h-auto rounded-lg shadow-xl hover:scale-105 transition-transform duration-300">
                        <div class="space-y-4">
                            <p class="text-gray-600 text-sm leading-relaxed">ç‚ºäº†è®“ä½ æ›´æœ‰ç³»çµ±åœ°å­¸ç¿’ï¼Œæœªä¾†æ­£å¼èª²ç¨‹æˆ‘å€‘å°‡ä½¿ç”¨ <strong>Menschen
                                    A1</strong> (Hueberå‡ºç‰ˆç¤¾) ä½œç‚ºæ ¸å¿ƒæ•™æã€‚</p>
                            <ul class="space-y-3">
                                <li class="flex items-start"><span class="text-green-500 mr-2">âœ“</span><span
                                        class="text-gray-700 text-sm"><strong>åœ–æ–‡ä¸¦èŒ‚
                                            (Visualisierung):</strong><br>å¤§é‡çš„åœ–ç‰‡å¹«åŠ©è¨˜æ†¶ã€‚</span></li>
                                <li class="flex items-start"><span class="text-green-500 mr-2">âœ“</span><span
                                        class="text-gray-700 text-sm"><strong>é‡è¦–è½èªª (HÃ¶ren &
                                            Sprechen):</strong><br>åŒ…å«å¤§é‡ç”Ÿæ´»å°è©±ã€‚</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- Homework -->
                <div
                    class="bg-yellow-50 p-8 rounded-xl shadow-md border-2 border-yellow-200 flex flex-col justify-center">
                    <div class="flex items-center mb-6"><span class="text-3xl mr-3">ğŸ™ï¸</span>
                        <h3 class="font-bold text-xl text-yellow-900">ä½ çš„å°ä»»å‹™ (Hausaufgabe)</h3>
                    </div>
                    <p class="text-yellow-900 mb-6 font-medium">ä¸Šå®Œç¬¬ä¸€å ‚èª²å¾Œï¼Œè«‹éŒ„è£½ä¸€æ®µ <span
                            class="bg-yellow-200 px-2 rounded">30ç§’</span> å·¦å³çš„èªéŸ³å‚³çµ¦æˆ‘ã€‚</p>
                    <div class="mt-6 flex items-center bg-red-50 p-4 rounded-lg border border-red-100">
                        <span class="text-red-500 text-xl mr-3">ğŸ’¡</span>
                        <div class="text-sm text-red-800"><strong>æª¢æŸ¥é‡é»ï¼š</strong><br>è«‹ç‰¹åˆ¥æ³¨æ„æ¯éŸ³ <span
                                class="font-bold font-mono bg-red-200 px-1 rounded">ei</span> èˆ‡ <span
                                class="font-bold font-mono bg-red-200 px-1 rounded">eu</span> çš„ç™¼éŸ³ã€‚</div>
                    </div>
                </div>
            </div>

            <!-- Dynamic Script Section -->
            <div class="mt-8 bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200">
                <div class="bg-yellow-500 p-4 text-white flex justify-between items-center">
                    <h3 class="font-bold text-lg">ğŸ“ 30-ç§’è‡ªæˆ‘ä»‹ç´¹æ¨¡æ¿ (30-Sekunden-Skript)</h3>
                    <span class="text-xs bg-yellow-600 px-2 py-1 rounded">éŒ„éŸ³å°ˆç”¨</span>
                </div>
                <div class="p-6 md:p-8">
                    <p class="text-gray-600 mb-6">è«‹åƒè€ƒæ­¤è…³æœ¬é€²è¡ŒéŒ„éŸ³ï¼Œæ‹¬è™Ÿå…§è«‹å¡«å…¥ä½ è‡ªå·±çš„è³‡è¨Šã€‚æ…¢æ…¢å”¸ï¼Œæ³¨æ„ç™¼éŸ³æ¸…æ¥šã€‚</p>
                    <!-- CONTAINER FOR SCRIPT LINES -->
                    <div class="space-y-4 max-w-3xl mx-auto bg-gray-50 p-6 rounded-lg border-l-4 border-yellow-500"
                        id="script-container"></div>
                    <div class="mt-6 text-center text-sm text-gray-400">
                        <p>ğŸ’¡ æç¤ºï¼šæ·±å‘¼å¸ï¼Œä¸ç”¨æ€¥ï¼ŒæŠŠæ¯å€‹æ¯éŸ³å”¸é£½æ»¿ã€‚</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 mt-12 py-8">
        <div class="max-w-6xl mx-auto px-4 text-center text-gray-500 text-sm">
            <p>&copy; 2026 Leon's German Class. Alle Rechte vorbehalten.</p>
            <p class="mt-2">Bis bald!</p>
        </div>
    </footer>

    <!-- JAVASCRIPT MODULES -->
    <script>
        /**
         * MODULE 1: COURSE DATA
         * Modify this section to add new vocab, alphabet or script lines.
         */
        const CourseData = {
            // Navigation Items
            tabs: [
                { id: 'tab-start', label: '1. Start' },
                { id: 'tab-kultur', label: '2. Kultur' },
                { id: 'tab-confidence', label: '3. Zuversicht' },
                { id: 'tab-core', label: '4. Lektion' },
                { id: 'tab-roadmap', label: '5. Fahrplan' },
                { id: 'tab-material', label: '6. Material' }
            ],
            // Cognates for "Confidence" section
            vocab: [
                { de: 'Hand', en: 'Hand', icon: 'ğŸ–ï¸', similar: true },
                { de: 'Bus', en: 'Bus', icon: 'ğŸšŒ', similar: true },
                { de: 'Finger', en: 'Finger', icon: 'â˜ï¸', similar: true },
                { de: 'Haus', en: 'House', icon: 'ğŸ ', similar: true },
                { de: 'Maus', en: 'Mouse', icon: 'ğŸ­', similar: true },
                { de: 'Banane', en: 'Banana', icon: 'ğŸŒ', similar: true },
                { de: 'Auto', en: 'Car/Auto', icon: 'ğŸš—', similar: true },
                { de: 'Bier', en: 'Beer', icon: 'ğŸº', similar: true },
                { de: 'Supermarkt', en: 'Supermarket', icon: 'ğŸ›’', similar: true }
            ],
            // Special Letters
            specialLetters: [
                { char: 'Ã„', word: 'Ã„', desc: 'å¦‚ A è®ŠéŸ³' },
                { char: 'Ã–', word: 'Ã–', desc: 'å˜´å·´åœ“å½¢ç™¼ E' },
                { char: 'Ãœ', word: 'Ãœ', desc: 'å˜´å·´åœ“å½¢ç™¼ I' },
                { char: 'ÃŸ', word: 'Eszett', desc: 'é›™ S éŸ³' }
            ],
            // Numbers 0-10
            numbers: [
                { val: 0, word: 'null' }, { val: 1, word: 'eins' }, { val: 2, word: 'zwei' },
                { val: 3, word: 'drei' }, { val: 4, word: 'vier' }, { val: 5, word: 'fÃ¼nf' },
                { val: 6, word: 'sechs' }, { val: 7, word: 'sieben' }, { val: 8, word: 'acht' },
                { val: 9, word: 'neun' }, { val: 10, word: 'zehn' }
            ],
            // Full Alphabet
            alphabet: [
                { char: 'A', word: 'Apfel', icon: 'ğŸ' }, { char: 'B', word: 'Banane', icon: 'ğŸŒ' },
                { char: 'C', word: 'Computer', icon: 'ğŸ’»' }, { char: 'D', word: 'Deutschland', icon: 'ğŸ‡©ğŸ‡ª' },
                { char: 'E', word: 'Elefant', icon: 'ğŸ˜' }, { char: 'F', word: 'Fisch', icon: 'ğŸŸ' },
                { char: 'G', word: 'Gitarre', icon: 'ğŸ¸' }, { char: 'H', word: 'Haus', icon: 'ğŸ ' },
                { char: 'I', word: 'Igel', icon: 'ğŸ¦”' }, { char: 'J', word: 'Jacke', icon: 'ğŸ§¥' },
                { char: 'K', word: 'Kaffee', icon: 'â˜•' }, { char: 'L', word: 'Lampe', icon: 'ğŸ’¡' },
                { char: 'M', word: 'Maus', icon: 'ğŸ­' }, { char: 'N', word: 'Nase', icon: 'ğŸ‘ƒ' },
                { char: 'O', word: 'Orange', icon: 'ğŸŠ' }, { char: 'P', word: 'Pizza', icon: 'ğŸ•' },
                { char: 'Q', word: 'Qualle', icon: 'ğŸª¼' }, { char: 'R', word: 'Radio', icon: 'ğŸ“»' },
                { char: 'S', word: 'Sonne', icon: 'â˜€ï¸' }, { char: 'T', word: 'Tee', icon: 'ğŸµ' },
                { char: 'U', word: 'Uhr', icon: 'âŒš' }, { char: 'V', word: 'Vogel', icon: 'ğŸ¦' },
                { char: 'W', word: 'Wasser', icon: 'ğŸ’§' }, { char: 'X', word: 'Xylophon', icon: 'ğŸ¹' },
                { char: 'Y', word: 'Yoga', icon: 'ğŸ§˜' }, { char: 'Z', word: 'Zebra', icon: 'ğŸ¦“' },
                { char: 'Ã„', word: 'Ã„rzte', icon: 'ğŸ‘¨â€âš•ï¸' }, { char: 'Ã–', word: 'Ã–l', icon: 'ğŸ›¢ï¸' },
                { char: 'Ãœ', word: 'Ãœberraschung', icon: 'ğŸ' }, { char: 'ÃŸ', word: 'FuÃŸball', icon: 'âš½' }
            ],
            // 30s Intro Script
            scriptLines: [
                { de: 'Hallo!', zh: 'ä½ å¥½ï¼', audio: 'Hallo!' },
                { de: 'Ich heiÃŸe <span class="text-red-600 border-b-2 border-red-200">[ Name ]</span>.', zh: 'æˆ‘å« [åå­—]ã€‚', audio: 'Ich heiÃŸe Name' },
                { de: 'Ich komme aus <span class="text-red-600 border-b-2 border-red-200">Taiwan</span> <br class="md:hidden"> und bin <span class="text-red-600 border-b-2 border-red-200">[ Alter ]</span> Jahre alt.', zh: 'æˆ‘ä¾†è‡ªå°ç£ï¼Œä»Šå¹´ [å¹´é½¡] æ­²ã€‚', audio: 'Ich komme aus Taiwan und bin Alter Jahre alt.' },
                { de: 'Zurzeit bin ich Student / Studentin <br> <span class="text-sm text-gray-400 font-normal block my-1">--- oder (æˆ–è€…) ---</span> Ich arbeite als <span class="text-red-600 border-b-2 border-red-200">[ Beruf ]</span>.', zh: 'ç›®å‰æˆ‘æ˜¯å­¸ç”Ÿ / æˆ‘æ“”ä»» [è·æ¥­]ã€‚', audio: 'Zurzeit bin ich Student. Oder: Ich arbeite als Beruf.' },
                { de: 'Ich lerne Deutsch, weil ich in Deutschland leben und arbeiten mÃ¶chte.', zh: 'æˆ‘å­¸å¾·æ–‡æ˜¯å› ç‚ºæˆ‘æƒ³åœ¨å¾·åœ‹ç”Ÿæ´»èˆ‡å·¥ä½œã€‚', audio: 'Ich lerne Deutsch, weil ich in Deutschland leben und arbeiten mÃ¶chte.' },
                { de: 'In meiner Freizeit hÃ¶re ich gern Musik oder treibe Sport.', zh: 'é–’æš‡æ™‚æˆ‘å–œæ­¡è½éŸ³æ¨‚æˆ–åšé‹å‹•ã€‚', audio: 'In meiner Freizeit hÃ¶re ich gern Musik oder treibe Sport.' },
                { de: 'Freut mich, euch kennenzulernen!', zh: 'å¾ˆé«˜èˆˆèªè­˜å¤§å®¶ï¼', audio: 'Freut mich, euch kennenzulernen!' }
            ]
        };

        /**
         * MODULE 2: AUDIO SERVICE
         * Handles TTS logic
         */
        const AudioService = {
            feedbackElement: document.getElementById('audio-feedback'),

            speak: function (text, rate = 0.5) {
                // Visual Feedback
                if (this.feedbackElement) {
                    this.feedbackElement.textContent = `ğŸ”Š Spiele Audio: "${text}"`;
                    this.feedbackElement.classList.add('text-red-500');
                }

                if ('speechSynthesis' in window) {
                    window.speechSynthesis.cancel(); // Stop previous
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.lang = 'de-DE';
                    utterance.rate = rate;
                    window.speechSynthesis.speak(utterance);
                } else {
                    if (this.feedbackElement) this.feedbackElement.textContent = `(Browser unterstÃ¼tzt Audio nicht): "${text}"`;
                }

                // Clear feedback after 3s
                setTimeout(() => {
                    if (this.feedbackElement) {
                        this.feedbackElement.textContent = "";
                        this.feedbackElement.classList.remove('text-red-500');
                    }
                }, 3000);
            }
        };

        /**
         * MODULE 3: RENDER SERVICE
         * Generates HTML based on CourseData
         */
        const RenderService = {
            renderNav: function () {
                const desktopNav = document.getElementById('desktop-nav');
                const mobileNavItems = document.getElementById('mobile-nav-items');

                const desktopHTML = CourseData.tabs.map(tab =>
                    `<button onclick="App.switchTab('${tab.id}')" id="btn-${tab.id}" class="tab-btn text-gray-500 px-2 py-2 text-sm font-medium transition-colors hover:text-red-600">${tab.label}</button>`
                ).join('');

                const mobileHTML = CourseData.tabs.map(tab =>
                    `<button onclick="App.switchTab('${tab.id}')" class="block w-full text-left px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-red-600">${tab.label}</button>`
                ).join('');

                if (desktopNav) desktopNav.innerHTML = desktopHTML;
                if (mobileNavItems) mobileNavItems.innerHTML = mobileHTML;
            },

            renderVocab: function () {
                const grid = document.getElementById('vocab-grid');
                if (!grid) return;
                grid.innerHTML = CourseData.vocab.map(item => `
                    <div class="group h-32 w-full perspective-1000 cursor-pointer" onclick="App.flipCard(this)">
                        <div class="relative w-full h-full text-center transition-all duration-500 transform-style-3d group-hover:shadow-xl rounded-xl border border-gray-200 bg-white">
                            <div class="absolute w-full h-full backface-hidden flex flex-col items-center justify-center rounded-xl bg-white">
                                <div class="text-3xl mb-1">${item.icon}</div>
                                <div class="text-lg font-bold text-gray-800">${item.de}</div>
                                <div class="text-xs text-gray-400 mt-1">(Umdrehen)</div>
                            </div>
                            <div class="absolute w-full h-full backface-hidden rotate-y-180 flex flex-col items-center justify-center rounded-xl bg-gray-900 text-white">
                                <div class="text-sm text-yellow-400 font-bold">English:</div>
                                <div class="text-lg">${item.en}</div>
                            </div>
                        </div>
                    </div>`).join('');
            },

            renderSpecialLetters: function () {
                const grid = document.getElementById('special-letters-grid');
                if (!grid) return;
                grid.innerHTML = CourseData.specialLetters.map(item => `
                    <button onclick="App.playAudio('${item.word}', 0.2)" class="flex flex-col items-center justify-center p-3 bg-white border border-gray-200 rounded hover:bg-red-50 hover:border-red-300 transition text-center shadow-sm">
                        <span class="text-xl font-bold text-red-600">${item.char}</span>
                        <span class="text-xs text-gray-400 mt-1">${item.desc}</span>
                    </button>`).join('');
            },

            renderNumbers: function () {
                const grid = document.getElementById('numbers-grid');
                if (!grid) return;
                grid.innerHTML = CourseData.numbers.map(item => `
                    <button onclick="App.playAudio('${item.word}', 0.2)" class="py-2 bg-white border border-gray-200 rounded hover:bg-yellow-50 hover:border-yellow-300 transition text-center shadow-sm ${item.val === 10 ? 'col-span-2 sm:col-span-1' : ''}">
                        <div class="font-bold text-lg">${item.val}</div>
                        <div class="text-xs text-gray-500">${item.word}</div>
                    </button>`).join('');
            },

            renderAlphabet: function () {
                const grid = document.getElementById('alphabet-grid');
                if (!grid) return;
                grid.innerHTML = CourseData.alphabet.map(item => `
                    <div class="flex flex-col justify-between bg-white border border-gray-200 rounded shadow-sm overflow-hidden h-28">
                        <button onclick="App.playAudio('${item.char}', 0.2)" class="flex-grow w-full flex items-center justify-center bg-white hover:bg-red-50 transition-colors border-b border-gray-100 group" title="HÃ¶re den Buchstaben">
                            <span class="text-2xl font-bold text-red-600 group-hover:scale-110 transition-transform">${item.char}</span>
                        </button>
                        <button onclick="App.playAudio('${item.word}', 0.2)" class="h-10 w-full flex items-center justify-center bg-gray-50 hover:bg-yellow-100 transition-colors" title="HÃ¶re das Wort">
                            <span class="text-xs text-gray-700 font-medium">${item.word} ${item.icon}</span>
                        </button>
                    </div>`).join('');
            },

            renderScript: function () {
                const container = document.getElementById('script-container');
                if (!container) return;
                container.innerHTML = CourseData.scriptLines.map((line, index) => `
                    <div class="flex items-start group">
                        <button onclick="App.playAudio('${line.audio}', 0.6)" class="mr-4 w-8 h-8 flex items-center justify-center bg-yellow-100 text-yellow-600 rounded-full hover:bg-yellow-500 hover:text-white transition shrink-0 mt-1" title="HÃ¶ren">ğŸ”Š</button>
                        <span class="w-8 text-yellow-600 font-bold shrink-0 mt-2">${index + 1}.</span>
                        <div>
                            <p class="text-lg md:text-xl font-medium text-gray-800 leading-relaxed">${line.de}</p>
                            <p class="text-sm text-gray-500">${line.zh}</p>
                        </div>
                    </div>`).join('');
            }
        };

        /**
         * MODULE 4: APP CONTROLLER
         * Main logic
         */
        const App = {
            init: function () {
                RenderService.renderNav();
                RenderService.renderVocab();
                RenderService.renderSpecialLetters();
                RenderService.renderNumbers();
                RenderService.renderAlphabet();
                RenderService.renderScript();

                // Initialize Charts (kept inline for simplicity)
                this.initChart();

                // Set initial tab style
                this.switchTab(CourseData.tabs[0].id);
            },

            switchTab: function (tabId) {
                // Hide all tabs
                document.querySelectorAll('.tab-content').forEach(el => {
                    el.classList.add('hidden');
                    el.classList.remove('block');
                });
                // Show active tab
                const activeSection = document.getElementById(tabId);
                if (activeSection) {
                    activeSection.classList.remove('hidden');
                    activeSection.classList.add('block');
                }
                // Update buttons
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.classList.remove('tab-active', 'text-red-600');
                    btn.classList.add('text-gray-500');
                });
                const activeBtn = document.getElementById(`btn-${tabId}`);
                if (activeBtn) {
                    activeBtn.classList.add('tab-active');
                    activeBtn.classList.remove('text-gray-500');
                }
                // Close mobile menu
                document.getElementById('mobile-menu').classList.add('hidden');

                // Chart resize hack
                if (tabId === 'tab-confidence') {
                    setTimeout(() => {
                        const chartInstance = Chart.getChart("similarityChart");
                        if (chartInstance) chartInstance.resize();
                    }, 100);
                }
            },

            toggleMobileMenu: function () {
                document.getElementById('mobile-menu').classList.toggle('hidden');
            },

            flipCard: function (element) {
                const inner = element.querySelector('div');
                if (inner.classList.contains('rotate-y-180')) {
                    inner.classList.remove('rotate-y-180');
                } else {
                    inner.classList.add('rotate-y-180');
                }
            },

            playAudio: function (text, rate) {
                AudioService.speak(text, rate);
            },

            checkQuiz: function (btn, isCorrect) {
                const allBtns = document.querySelectorAll('.quiz-btn');
                const feedback = document.getElementById('quiz-feedback');

                allBtns.forEach(b => {
                    b.classList.remove('bg-green-100', 'border-green-500', 'bg-red-100', 'border-red-500');
                    b.classList.add('bg-white');
                });

                if (isCorrect) {
                    btn.classList.remove('bg-white');
                    btn.classList.add('bg-green-100', 'border-green-500');
                    feedback.textContent = "Richtig! Das Verb (Position 2) kommt nach dem Subjekt!";
                    feedback.classList.add('text-green-600');
                    feedback.classList.remove('text-red-600');
                } else {
                    btn.classList.remove('bg-white');
                    btn.classList.add('bg-red-100', 'border-red-500');
                    feedback.textContent = "Versuch's nochmal! Wo ist das Subjekt (Ich)?";
                    feedback.classList.add('text-red-600');
                    feedback.classList.remove('text-green-600');
                }
            },

            initChart: function () {
                const ctx = document.getElementById('similarityChart');
                if (!ctx) return;
                new Chart(ctx.getContext('2d'), {
                    type: 'doughnut',
                    data: {
                        labels: ['Ã„hnliche WÃ¶rter (Cognates)', 'Andere'],
                        datasets: [{
                            data: [60, 40],
                            backgroundColor: ['#DD0000', '#E5E7EB'],
                            borderWidth: 0,
                            hoverOffset: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'bottom', labels: { font: { family: "'Noto Sans TC', sans-serif" } } },
                            title: { display: true, text: 'Wortschatz-Ã„hnlichkeit', font: { size: 16 } },
                            tooltip: { callbacks: { label: function (context) { return context.label + ': ' + context.raw + '%'; } } }
                        },
                        cutout: '70%',
                    }
                });
            }
        };

        // Add CSS Animation
        const styleSheet = document.createElement("style");
        styleSheet.textContent = `@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } } .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }`;
        document.head.appendChild(styleSheet);

        // Start App
        document.addEventListener('DOMContentLoaded', () => App.init());

    </script>
</body>

</html>